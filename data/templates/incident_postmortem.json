[
  {
    "instruction": "Write an incident postmortem report",
    "input": "Incident: Production database outage\nDuration: 45 minutes\nDate: 2024-03-15\nImpact: All customer-facing applications down\nRoot cause: Disk space exhaustion on primary DB server due to unrotated logs",
    "output": "# Incident Postmortem: Production Database Outage\n\n**Date:** March 15, 2024\n**Duration:** 45 minutes (14:30 - 15:15 UTC)\n**Severity:** P1 - Critical\n**Author:** Database Team\n\n## Executive Summary\nA production database outage caused complete unavailability of customer-facing applications for 45 minutes. Root cause was disk space exhaustion due to log rotation failure.\n\n## Impact\n- All customer-facing applications unavailable\n- Estimated 12,000 affected users\n- Revenue impact: ~$15,000 (estimated)\n- Customer support tickets: 89 opened during incident\n\n## Timeline\n- 14:30 - Monitoring alerts: DB connection failures\n- 14:32 - On-call engineer paged\n- 14:35 - Initial investigation began\n- 14:42 - Root cause identified: disk at 100%\n- 14:50 - Emergency log cleanup initiated\n- 15:10 - Database services restored\n- 15:15 - All applications confirmed operational\n\n## Root Cause\nLog rotation cron job failed silently 2 weeks prior. Application logs grew to consume all available disk space (500GB), causing database to enter read-only mode.\n\n## Resolution\n1. Emergency cleanup of old log files\n2. Database restart after space recovery\n3. Application health checks passed\n\n## Action Items\n| Action | Owner | Due Date | Status |\n|--------|-------|----------|--------|\n| Fix log rotation cron job | DevOps | 03/16 | Complete |\n| Add disk space monitoring alert at 80% | SRE | 03/17 | Complete |\n| Implement log rotation monitoring | DevOps | 03/20 | In Progress |\n| Review all cron job monitoring | Platform | 03/25 | Not Started |\n\n## Lessons Learned\n- Silent cron failures need monitoring\n- Disk space alerts should trigger earlier\n- Log retention policies need enforcement"
  },
  {
    "instruction": "Write an incident postmortem report",
    "input": "Incident: SSO authentication failures\nDuration: 2 hours\nDate: 2024-03-20\nImpact: Users unable to login to any company applications\nRoot cause: Expired SSL certificate on identity provider",
    "output": "# Incident Postmortem: SSO Authentication Failures\n\n**Date:** March 20, 2024\n**Duration:** 2 hours (09:00 - 11:00 UTC)\n**Severity:** P1 - Critical\n**Author:** Identity & Access Team\n\n## Executive Summary\nSSO authentication failures prevented all users from accessing company applications for 2 hours. The root cause was an expired SSL certificate on the identity provider.\n\n## Impact\n- 100% of employees unable to authenticate\n- All internal applications inaccessible\n- Productivity loss: ~500 employee-hours\n- Customer support delayed (agents couldn't access systems)\n\n## Timeline\n- 09:00 - First user reports login failures\n- 09:05 - Helpdesk tickets spike\n- 09:10 - Incident declared, on-call paged\n- 09:15 - SSO provider logs show SSL errors\n- 09:25 - Expired certificate identified\n- 09:30 - Emergency certificate renewal initiated\n- 10:30 - New certificate deployed\n- 10:45 - Cache clearing across services\n- 11:00 - Full service restoration confirmed\n\n## Root Cause\nSSL certificate for idp.company.com expired at 09:00 UTC. Certificate was set to auto-renew but renewal failed due to DNS validation issues. No alerting was configured for certificate expiration.\n\n## Resolution\n1. Manual certificate renewal via CA\n2. Certificate deployment to IdP servers\n3. Service restart and cache clear\n4. Validation of authentication flows\n\n## Action Items\n| Action | Owner | Due Date | Status |\n|--------|-------|----------|--------|\n| Implement cert expiry monitoring | SecOps | 03/21 | Complete |\n| Fix DNS validation for auto-renewal | DevOps | 03/22 | Complete |\n| Add 30/14/7 day expiry alerts | SRE | 03/23 | Complete |\n| Audit all certificates company-wide | Security | 03/30 | In Progress |\n| Document emergency cert process | Identity | 03/25 | Complete |\n\n## Lessons Learned\n- Certificate expiration must have multi-stage alerts\n- Auto-renewal should be monitored, not assumed\n- Emergency certificate procedures need documentation"
  }
]
